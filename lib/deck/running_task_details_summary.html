<link rel="import" href="../../../packages/polymer/polymer.html">

<link rel="import" href="../../../packages/paper_elements/paper_item.html">

<link rel="import" href="../common/components/grade_input.html">
<link rel="import" href="../common/components/grade_item.html">
<link rel="import" href="../common/components/grade_button.html">
<link rel="import" href="../common/components/grade_fascia.html">
<link rel="import" href="../common/components/grade_uri.html">

<link rel="import" href="deck.html">

<polymer-element name="running-task-details-summary"> 

  <template>
  
  <style>
    [status-icon] {
      vertical-align: middle;
    }

      :host {
        display: block;
      }
  </style>

     <paper-item trim bg-selected?="{{selected}}">
           
	     <grade-item smallicon icon="{{item.status | toIcon}}" flex>
	     
	       <grade-fascia flex truncate>
	         <div fascia-title>{{item.task.label}}</div>
	         
	         <div fascia-subtitle small>
	          
	           <template if={{item.execution.running}}>running...({{phase | suffix}})</template>
	          
	           <template if={{!item.execution.running}}>
		           <span fg>start:</span> {{startTime}} 
		           <span fg>duration:</span> {{duration}}  
		           <span hidden?="{{ item.execution.bean[TEK.status] == TEK.status_completed }}"><span fg>phase:</span>{{phase | suffix }}</span>
	           </template>
	         
	         </div>	
	       </grade-fascia>
	       
         <grade-button action smallicon icon="av:stop" tooltip="left" label="runs the task" on-click="{{stopExecution}}" hidden?="{{!item.canCancel}}"></grade-button>
         <grade-button action onhover hidden?="{{ item.running }}" smallicon tooltip="left" label="remove task execution" icon="delete" on-click={{removeExecution}}></grade-button>

	     </grade-item>
                 
     </paper-item>
  
  </template> 
</polymer-element>
