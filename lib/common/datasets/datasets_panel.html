<link rel="import" href="../../../../packages/polymer/polymer.html">

<link rel="import" href="../components/grade_scaffold.html">
<link rel="import" href="../components/grade_header_panel.html">
<link rel="import" href="../components/grade_input.html">
<link rel="import" href="../components/grade_button.html">
<link rel="import" href="../components/grade_badge.html">

<link rel="import" href="dataset_list.html">
<link rel="import" href="dataset_details.html">
<link rel="import" href="dataset_upload_dialog.html">

<link rel="import" href="datasets.html">

<polymer-element name="datasets-panel" horizontal layout>
  <template>
  
    <style>
    [spaced-button] {
      padding-left: 5px;
    }
    </style>
   
      <grade-scaffold flex>
      
          <grade-header-panel main fit paneltitle="DATASETS" fixedmain="true">
          
            <content select="[menu]"></content>

            <grade-input toolbar
                        smaller 
                        style="width:120px; margin-right:10px" 
                        label="filter"
                        inputValue={{kfilter}}>
            </grade-input>
            
            <grade-button toolbar icon="refresh" label="refresh list" on-click="{{refresh}}"></grade-button>
            <grade-button hidden?={{!uploadEnabled}} toolbar icon="cloud-upload" label="upload dataset" on-click="{{upload}}" spaced-button></grade-button>
       
            <dataset-list main flex listitems="{{datasets}}" kfilter="{{kfilter}}" on-file-drop={{onFileDrop}} ddEnabled={{uploadEnabled}}></dataset-list>
            
            <grade-badge icon="subject" value="{{datasets.data.length}}" footer></grade-badge>
            
          </grade-header-panel>
          
          <grade-header-panel side fit paneltitle="PROPERTIES">
              <dataset-details main item="{{datasets.selected}}" spaced></dataset-details> 
          </grade-header-panel>

      </grade-scaffold>
      
      <dataset-upload-dialog id="uploadDialog" model={{model}} endpoints={{endpoints}}></dataset-upload-dialog>
  
  </template>
  
</polymer-element>
