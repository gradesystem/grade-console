<link rel="import" href="../../../../packages/polymer/polymer.html">
<link rel="import" href="../../../../packages/core_elements/core_tooltip.html">

<link rel="import" href="grade_uri.html">

<polymer-element name="grade-table">

    <template>

      <style>  
      
        [table] {
          overflow-y: auto;
        }
        
        [headers] {
          border-bottom: 1px solid lightgray;
          margin-bottom: 10px;
          text-transform: capitalize;
          
        }

        [cell] {
          margin:5px;
          overflow-x:hidden;
          white-space: nowrap;
          text-overflow: ellipsis;
        }
        
        [uri-cell]::shadow div {
          margin: 5px;
          overflow-x: hidden;
          white-space: nowrap;
          text-overflow: ellipsis;
        }
        
        [pointer] {
          cursor:pointer;
        }
        
        :host [disabled] * {
          color: lightgrey !important;
        }

      </style>
      
        <div disabled?="{{disabled}}" inset rounded layout vertical>
	          
	          <div headers layout horizontal>
		         <template repeat="{{header in headers}}">
		           <div fg flex cell>{{header}}</div>
		         </template>
		        </div>
		        
            <template repeat="{{row in data}}">
              <div layout horizontal>
                <template repeat="{{cell in row}}">
                  <core-tooltip flex label="{{cell['value']}}">
                  
                    <template if="{{cell['value'] | isHttpUri}}">
                      <grade-uri uri-cell pointer?={{isUri(cell)}} smaller value="{{cell['value']}}" on-click={{uriClick}} cell-value="{{cell['value']}}"></grade-uri>
                    </template>
                    
                    <template if="{{!(cell['value'] | isHttpUri) }}">
                      <div cell smaller pointer?={{isUri(cell)}} on-click={{uriClick}} cell-value="{{cell['value']}}">
                        <span fg>{{cell['value']}}</span>
                      </div>
                    </template>
	                  
                   </core-tooltip>
              </template>
              </div>
            </template>
        </div>
    
    <script type="application/dart" src="grade_table.dart"></script> 
    
    </template>

</polymer-element>