<link rel="import" href="../../../../packages/polymer/polymer.html">
<link rel="import" href="../../../../packages/paper_elements/paper_toast.html">
<link rel="import" href="../../../../packages/core_elements/core_icon.html">

<link rel="import" href="grade_dialog.html">

<polymer-element name="grade-toast">
  <template>
    <style>
      paper-toast /deep/ .toast-text {
        line-height: 24px;
      }
    
      [error-title] {
      
        width:40px;
        height:40px;
        color: #E41C23;
        margin-right: 5px;
      }
     
      [error-description] {        
        margin-top:10px; 
      }
       
      [error-details] {
        margin-top:10px;        
        border-radius:5px;
        
        background: #fafafa;
        padding: 10px;
        
        max-height: 200px;
        overflow: auto; 
      }
       
    </style>
	    <paper-toast id="toast" role="{{role}}" text="{{text}}" opened={{opened}} duration=6000>
	      <div hidden?="{{callback==null}}" style="color: #eeff41;" on-click="{{onRetry}}">Retry</div>
	      <core-icon hidden?="{{error==null}}"  style="color: #eeff41;" icon="more-vert" on-click="{{onDetails}}"></core-icon>
	    </paper-toast>
	    <grade-dialog id="errorDialog" opened={{errorDialogOpen}} heading="Error details" sizingTarget="{{$['errorPanel']}}">
        <div layout vertical center spaced>
          <div layout horizontal center>
						<core-icon large error-title icon="warning"></core-icon>
            <div larger fg>{{error.title}}</div>
          </div>
          <template if="{{error.description!=null}}">
            <div layout horizontal center-justified>
              <div error-description fg-alt>{{error.description}}</div>
            </div>
          </template>   
          <template if="{{error.details!=null}}">
            <div self-center fg-alt error-details smaller>{{error.details}}</div>
          </template>              
              
        </div>
	    </grade-dialog>
    </template>
  <script type="application/dart" src="grade_toast.dart"></script> 
</polymer-element>