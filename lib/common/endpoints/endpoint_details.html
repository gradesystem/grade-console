<link rel="import" href="../../../../packages/polymer/polymer.html">
<link rel="import" href="../../../../packages/core_elements/core_icon.html">
<link rel="import" href="../../../../packages/paper_elements/paper_toggle_button.html"> 

<link rel="import" href="../components/grade_input.html">
<link rel="import" href="../components/grade_item.html">
<link rel="import" href="../components/grade_fascia.html">
<link rel="import" href="../components/loading_panel.html">
<link rel="import" href="../components/grade_button.html">
<link rel="import" href="../components/grade_uri.html">

<link rel="import" href="endpoints.html">

<polymer-element name="endpoint-details" layout vertical> 

  <template>
    
		<style>
		
		  [lock] { 
		    height:45px;
		  }
		  
		  [lock-label] { 
        padding-right:15px;
      }
		
      grade-input::shadow textarea {
        max-height: 150px;
			}
		
		</style>

    <template if="{{item!=null}}">
	    <loading-panel flex loading="{{loading}}" message="saving endpoint">
	   
	      <div fit style="overflow-y: auto;" spaced>
	      
		      <div smaller lock layout horizontal center-justified>
		        <div center horizontal layout>
              <div flex fg lock-label bolder>PROTECT</div>
              <paper-toggle-button fg 
              checked={{item.model.bean[K.locked]}}
              on-change={{protectChanged}}
              
              >
              </paper-toggle-button>
			      </div>
			    </div>
	      
          <grade-item icon=chevron-right>
	          
	          <grade-fascia flex truncate>
	                   
	            <grade-input fascia-title
	                         disabled="{{ !editable }}" 
	                         label="{{ K.name | suffix }} ?" 
	                         required
	                         validators="{{ name_validators}}"
	                         invalid="{{ item.fieldsInvalidity[K.name] }}"
	                         inputValue="{{ item.model.bean[K.name]  }}"
	                         >
	            </grade-input>
	                   
	             <grade-uri fascia-subtitle value={{K.name}}></grade-uri>       
	             
	            </grade-fascia>
	            
	        </grade-item>
	          
	        <grade-item icon=chevron-right>
	          
	          <grade-fascia flex truncate>
	                   
	            <grade-input fascia-title
	                         disabled="{{ !editable }}" 
	                         label="uri ?" 
	                         required
	                         invalid="{{ item.fieldsInvalidity[K.uri] }}"
	                         inputValue="{{ item.model.bean[K.uri]  }}"
	                         type="URL"
	                         >
	            </grade-input>
	                   
	            <grade-uri fascia-subtitle value={{K.uri}}></grade-uri>
	          </grade-fascia>
	            
	        </grade-item>
            
          <grade-item icon=chevron-right>
            
            <grade-fascia flex truncate>
                     
              <grade-input fascia-title
                           disabled="{{ !editable }}" 
                           label="uri ?" 
                           invalid="{{ item.fieldsInvalidity[K.update_uri] }}"
                           inputValue="{{ item.model.bean[K.update_uri]  }}"
                           type="URL">
              </grade-input>
                     
               <grade-uri fascia-subtitle value={{K.update_uri}}></grade-uri>
            </grade-fascia>
              
          </grade-item>	        

	      </div>  
	    </loading-panel>
    </template>
		
  </template> 
</polymer-element>
