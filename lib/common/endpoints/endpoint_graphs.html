<link rel="import" href="../../../../packages/polymer/polymer.html">
<link rel="import" href="../../../../packages/core_elements/core_icon.html">
<link rel="import" href="../../../../packages/core_elements/core_selector.html">

<link rel="import" href="../components/loading_panel.html">

<link rel="import" href="graph_details_summary.html">
<link rel="import" href="endpoints.html">

<polymer-element name="endpoint-graphs" layout vertical> 
  <template>
    
		<style>

      :host [fg] /deep/ [onhover-selected] { display: inline }
      
      :host [list] { min-height:200px; padding:5px; overflow-y:auto }
      
      :host [pointer] { cursor:pointer }
      
    </style>

    <template if="{{item!=null && !item.newModel}}">

			<!-- graph list -->
			<loading-panel flex list wired rounded relative loading="{{loading || item.loadingGraphs}}" message="{{loading?'saving endpoint':'loading graphs'}}">
				<div fit style="overflow-y: auto;" spaced>
				
					<core-selector selectedAttribute="fg">
					
						<template repeat="{{graph in item.model.graphs | filter(kfilter) | sort(graphSorter)}}">
							
			        <graph-details-summary pointer graph={{graph}} removeEnabled="{{!item.edit && !item.model.locked}}"></graph-details-summary>
							  
						</template>
					
					</core-selector>
				
				</div>
			
			</loading-panel>
    </template>

  </template> 
</polymer-element>
