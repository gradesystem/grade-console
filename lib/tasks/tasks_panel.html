<link rel="import" href="../../../packages/polymer/polymer.html">
<link rel="import" href="../../../packages/paper_elements/paper_button.html">
<link rel="import" href="../../../packages/core_elements/core_tooltip.html">
<link rel="import" href="../../../packages/core_elements/core_icon.html">

<link rel="import" href="../common/components/grade_scaffold.html">
<link rel="import" href="../common/components/grade_header_panel.html">
<link rel="import" href="../common/components/details_scaffold.html">
<link rel="import" href="../common/components/grade_button.html">
<link rel="import" href="../common/components/page_menu.html">

<link rel="import" href="task_details.html">
<link rel="import" href="task_list.html">

<link rel="import" href="tasks.html">

<polymer-element name="tasks-panel" horizontal layout>

  <template>

	  <grade-scaffold flex>
	  
	      <grade-header-panel main fit paneltitle="TASKS">
	      
	        <content select="[menu]"></content>
	
	        <grade-input toolbar
	                    smaller 
	                    style="width:120px; margin-right:10px" 
	                    label="filter"
	                    inputValue={{kfilter}}>
	        </grade-input>
	        
	        <grade-button toolbar icon="refresh" label="refresh list" on-click="{{refresh}}"></grade-button>
	        
	        <grade-button toolbar icon="add" label="add task"></grade-button>
	   
	        <task-list main listitems="{{tasks}}" kfilter="{{kfilter}}"></task-list>
	        
	      </grade-header-panel>
	      
	      <grade-header-panel side fit paneltitle="PROPERTIES">
	          <grade-button toolbar icon="create" label="edit task" on-click="{{onEdit}}" hidden?="{{tasks.selected==null || edit}}"></grade-button>
	          <grade-button toolbar icon="cancel" label="cancel" on-click="{{onCancel}}" hidden?={{!edit}}></grade-button>
	          <grade-button toolbar icon="save" label="save" on-click="{{onSave}}" hidden?={{!edit}}></grade-button>
	          <task-details main item="{{tasks.selected}}" editable="{{edit}}" spaced></task-details> 
	      </grade-header-panel>
	
	  </grade-scaffold>
  
  </template>
  
</polymer-element>
